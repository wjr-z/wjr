\doxysection{barrier.\+hpp}
\hypertarget{barrier_8hpp_source}{}\label{barrier_8hpp_source}\index{include/wjr/concurrency/barrier.hpp@{include/wjr/concurrency/barrier.hpp}}
\mbox{\hyperlink{barrier_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ WJR\_CONCURRENCY\_BARRIER\_HPP\_\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ WJR\_CONCURRENCY\_BARRIER\_HPP\_\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{preprocessor_8hpp}{wjr/preprocessor.hpp}}>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacewjr}{wjr}}\ \{}
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }bar\ \{}
\DoxyCodeLine{00010\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{WJR\_INTRINSIC\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacewjr_1_1bar_a49671ad2c912c634a23f2df44ea7c4e4}{compiler\_barrier}}()\ \mbox{\hyperlink{namespacewjr_af89e8e658fd9c3a3b154c55677a3b528}{noexcept}}\ \{}
\DoxyCodeLine{00011\ \ \ \ \ std::atomic\_signal\_fence(std::memory\_order\_seq\_cst);}
\DoxyCodeLine{00012\ \}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{WJR\_INTRINSIC\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacewjr_1_1bar_a7c024f65543feccd19007a66aab557b7}{smp\_mb}}()\ \mbox{\hyperlink{namespacewjr_af89e8e658fd9c3a3b154c55677a3b528}{noexcept}}\ \{\ std::atomic\_thread\_fence(std::memory\_order\_seq\_cst);\ \}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{WJR\_INTRINSIC\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacewjr_1_1bar_a00ea83679e0c192663849288b45a4b6a}{smp\_rmb}}()\ \mbox{\hyperlink{namespacewjr_af89e8e658fd9c3a3b154c55677a3b528}{noexcept}}\ \{}
\DoxyCodeLine{00017\ \ \ \ \ std::atomic\_thread\_fence(std::memory\_order\_acquire);}
\DoxyCodeLine{00018\ \}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{WJR\_INTRINSIC\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacewjr_1_1bar_a36010176aff9512f75d544f16273d940}{smp\_wmb}}()\ \mbox{\hyperlink{namespacewjr_af89e8e658fd9c3a3b154c55677a3b528}{noexcept}}\ \{}
\DoxyCodeLine{00021\ \ \ \ \ std::atomic\_thread\_fence(std::memory\_order\_release);}
\DoxyCodeLine{00022\ \}}
\DoxyCodeLine{00023\ \}\ \textcolor{comment}{//\ namespace\ bar}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacewjr_1_1bar_a49671ad2c912c634a23f2df44ea7c4e4}{bar::compiler\_barrier}};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \}\ \textcolor{comment}{//\ namespace\ wjr}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WJR\_CONCURRENCY\_BARRIER\_HPP\_\_}}

\end{DoxyCode}
