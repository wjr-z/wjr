\doxysection{string.\+hpp}
\hypertarget{json_2string_8hpp_source}{}\label{json_2string_8hpp_source}\index{include/wjr/json/string.hpp@{include/wjr/json/string.hpp}}
\mbox{\hyperlink{json_2string_8hpp}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ WJR\_JSON\_STRING\_HPP\_\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ WJR\_JSON\_STRING\_HPP\_\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{format_2utf8_2utf8_8hpp}{wjr/format/utf8/utf8.hpp}}>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{json_2detail_8hpp}{wjr/json/detail.hpp}}>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacewjr_1_1json}{wjr::json}}\ \{}
\DoxyCodeLine{00010\ \textcolor{keyword}{namespace\ }string\_detail\ \{}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ std::array<uint8\_t,\ 256>\ escape\_table\ =\ \{}
\DoxyCodeLine{00013\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \textcolor{comment}{//\ 0x0.}}
\DoxyCodeLine{00014\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0x22,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00015\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0x2f,\ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \textcolor{comment}{//\ 0x4.}}
\DoxyCodeLine{00018\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0x5c,\ 0,\ 0,\ \ \ \ 0,\ \textcolor{comment}{//\ 0x5.}}
\DoxyCodeLine{00019\ \ \ \ \ 0,\ 0,\ 0x08,\ 0,\ 0,\ \ \ \ 0,\ 0x0c,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0x0a,\ 0,\ \textcolor{comment}{//\ 0x6.}}
\DoxyCodeLine{00020\ \ \ \ \ 0,\ 0,\ 0x0d,\ 0,\ 0x09,\ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \textcolor{comment}{//\ 0x7.}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00023\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00024\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00027\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{00028\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,\ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ \ \ \ 0,\ 0,\ \ \ \ 0,}
\DoxyCodeLine{00029\ \};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \}\ \textcolor{comment}{//\ namespace\ string\_detail}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{namespace\ }detail\ \{}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{result<char\ *>}}\ parse\_string(\textcolor{keywordtype}{char}\ *\mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{dst}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *first,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *last)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{ret}}\ =\ \mbox{\hyperlink{namespacewjr_1_1utf8_a1dcb3e24cf2704c5ec108395c04864b1}{utf8::unicode\_to\_utf8}}(\mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{dst}},\ first,\ last);\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{WJR\_UNLIKELY}}(!\mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{ret}}))\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewjr_a9953ad41e85ce3ae6a0d32480ae0d0fd}{unexpected}}(\mbox{\hyperlink{namespacewjr_1_1json_a53f9c2c8205f41268c787c984c3228dea7e4408fb5aa6a9121233ee9c0b14c907}{error\_code::UTF8\_ERROR}});}
\DoxyCodeLine{00038\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{ret}};}
\DoxyCodeLine{00040\ \ \ \ \ \}}
\DoxyCodeLine{00041\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{result<void>}}\ check\_string(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *first,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *last)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{ret}}\ =\ \mbox{\hyperlink{namespacewjr_1_1utf8_a9a477bd8ae37b4bba4e241de21aa6d27}{utf8::check\_unicode}}(first,\ last);\ \mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{WJR\_UNLIKELY}}(!\mbox{\hyperlink{namespacewjr_a1acbd863328d678d9e25f3a31ef82df0}{ret}}))\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewjr_a9953ad41e85ce3ae6a0d32480ae0d0fd}{unexpected}}(\mbox{\hyperlink{namespacewjr_1_1json_a53f9c2c8205f41268c787c984c3228dea7e4408fb5aa6a9121233ee9c0b14c907}{error\_code::UTF8\_ERROR}});}
\DoxyCodeLine{00046\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00048\ \ \ \ \ \}}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \}\ \textcolor{comment}{//\ namespace\ detail}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \}\ \textcolor{comment}{//\ namespace\ wjr::json}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ WJR\_JSON\_STRING\_HPP\_\_}}

\end{DoxyCode}
